<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create ResumeðŸ‘‡</title>
    <link rel="stylesheet" href="resume_build.css">
    <script src="resume.js" type="text/javascript"></script>
</head>
<body>
    <div class="container">
        
        <form id="form" class="registere">
            <h1>Resume Building</h1>
            <div class="inner_content">
                <label>Job title: </label>
                <input type="text" placeholder="Enter your Title" onkeyup="gene(this,'Title')">
            </div>
            <div class="inner_content">
                <label>Name: </label>
                <input type="text" placeholder="Enter your name" onkeyup="gene(this,'Name')">
            </div>
            <div class="inner_content">
                <label>Age: </label>
                <input type="number" placeholder="Enter your age"  onkeyup="gene(this,'Age')">
            </div>
            <div class="inner_content">
                <label>Email: </label>
                <input type="email" placeholder="Enter your Email" onkeyup="gene(this,'Email')">
            </div>
            <div class="inner_content">
                <label>Contact: </label>
                <input type="text" placeholder="Enter your Contact" onkeyup="gene(this,'Contact')">
            </div>
            <div class="inner_content">
                <label>Declaration: </label>
                <input type="text" placeholder="Enter your Declaration" onkeyup="gene(this,'Declaration')">
            </div>
            
            
            <div class="inner_content">
                <label for="">Skill</label>
                <input type="text" id="skill" placeholder="Enter your skills" >
                <button type="button" onclick="addArry('Skills','skill')">Add</button>
            </div>
            <div class="inner_content">
                <label for="">Languages</label>
                <input type="text" id="lang" placeholder="Enter your Language" >
                <button type="button" onclick="addArry('Language','lang')">Add</button>
            </div>
            <div class="inner_content">
                <label for="">Hobbies</label>
                <input type="text" id="hobby" placeholder="Enter your Hobbies" >
                <button type="button" onclick="addArry('Hobbies','hobby')">Add</button>
            </div>
            <h2>Personal_details</h2>
            <div class="inner_content">
                <label for="">Father Name :</label>
                <input type="text" placeholder="Enter father name" onkeyup="gene(this,'father_name','personal_details')">
            </div>
            <div class="inner_content">
                <label for="">Mother Name :</label>
            <input type="text" placeholder="Enter mother name" onkeyup="gene(this,'mother_name','personal_details')">
            </div>
            <h2>Education</h2>
            <div class="inner_content" id="education">
                
                <input type="text" placeholder="Enter course name" onkeyup="gene(this,'Education',false,0,'course')">
                <input type="text" placeholder="Enter ins name" onkeyup="gene(this,'Education',false,0,'ins_name')">
                <input type="number" placeholder="Enter percentage" onkeyup="gene(this,'Education',false,0,'percentage')">
                <input type="number" placeholder="Enter year of pass" onkeyup="gene(this,'Education',false,0,'year_of_pass')">
                
            </div>
            <div class="inner_content">
                
                <input type="text" placeholder="Enter course name" onkeyup="gene(this,'Education',false,1,'course')">
                <input type="text" placeholder="Enter ins name" onkeyup="gene(this,'Education',false,1,'ins_name')">
                <input type="number" placeholder="Enter percentage" onkeyup="gene(this,'Education',false,1,'percentage')">
                <input type="number" placeholder="Enter year of pass" onkeyup="gene(this,'Education',false,1,'year_of_pass')">
                
            </div>
            <div class="inner_content">
               
                <input type="text" placeholder="Enter course name" onkeyup="gene(this,'Education',false,2,'course')">
                <input type="text" placeholder="Enter ins name" onkeyup="gene(this,'Education',false,2,'ins_name')">
                <input type="number" placeholder="Enter percentage" onkeyup="gene(this,'Education',false,2,'percentage')">
                <input type="number" placeholder="Enter year of pass" onkeyup="gene(this,'Education',false,2,'year_of_pass')">
                
            </div>  

            <h2>Experience</h2>
            <div class="inner_content">
                <input type="text" placeholder="Enter company name" onkeyup="gene(this,'Experience',false,0,'company_name')"/>
                <input type="text" placeholder="Your role" onkeyup="gene(this,'Experience',false,0,'role')"/>
                <input type="number" placeholder="year of experience" onkeyup="gene(this,'Experience',false,0,'year')"/>
            </div>
            <div class="inner_content">
                <input type="text" placeholder="Enter company name" onkeyup="gene(this,'Experience',false,1,'company_name')"/>
                <input type="text" placeholder="Your role" onkeyup="gene(this,'Experience',false,1,'role')"/>
                <input type="number" placeholder="year of experience" onkeyup="gene(this,'Experience',false,1,'year')"/>
            </div>
            <h2>Project</h2>
            <div class="inner_content">
                <input type="text" placeholder="Enter title" onkeyup="gene(this,'Project',false,0,'title')"/>
                <input type="text" placeholder="Your role" onkeyup="gene(this,'Project',false,0,'role')"/>
                <input type="number" placeholder="Enter year" onkeyup="gene(this,'Project',false,0,'year')"/>
            </div>
            <div class="inner_content">
                <input type="text" placeholder="Enter company name" onkeyup="gene(this,'Project',false,1,'title')"/>
                <input type="text" placeholder="Your role" onkeyup="gene(this,'Project',false,1,'role')"/>
                <input type="number" placeholder="year of experience" onkeyup="gene(this,'Project',false,1,'year')"/>
            </div>

            
            <button type="button" id="saveResume">Submit</button>
        </form>
        
        
        <div class="code_review">
            <pre id="coded">

            </pre>
        </div>
        
    </div>
    <button type="button" id="logout">Logout</button>
    <button type="button" id="nxtPage">Move to list page</button>
    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.9.0/firebase-app.js";
        import { getFirestore,addDoc, collection,getDocs  } from "https://www.gstatic.com/firebasejs/10.9.0/firebase-firestore.js";
        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries
      
        // Your web app's Firebase configuration
        const firebaseConfig = {
          apiKey: "AIzaSyCT_xsd2Cm1lZZD9ZohIzcxfiSVXAmeZUM",
          authDomain: "resume-app-03.firebaseapp.com",
          projectId: "resume-app-03",
          storageBucket: "resume-app-03.appspot.com",
          messagingSenderId: "59375422061",
          appId: "1:59375422061:web:52a894dcd57780f1fc8d64"
        };
      
        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        // const parms = new URLSearchParams(document.location.search);
        // const id = parms.get('userId') 

        let locat_value = localStorage.getItem('userloginData')
        let parseData = JSON.parse(locat_value)


        document.getElementById('saveResume').addEventListener('click', async (e)=>{
            const docRef =await addDoc(collection(db, "userResumeData"), {...resume,userId:parseData.Id})

            // location = 'resume_list.html'
            location = `resume_list.html`
        })
        document.getElementById('nxtPage').addEventListener('click',(e=>{
            location = `resume_list.html`
        }))
        
        // IF localstorage have no data back to login page
        if(!localStorage.getItem('userloginData')){
            location = "app_RL/login.html"
        }

        // logout
        document.getElementById('logout').addEventListener('click',(e)=>{
            localStorage.removeItem('userloginData')
            location="app_RL/login.html"
        })

        
        

        

    </script>
      
    
</body>
</html>