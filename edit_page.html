<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Edit Page</title>
    <script src="resume.js" type="text/javascript"></script>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="resume_build.css" />
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

    <style>
      .container-fluid {
        width: 100%;
        margin: 0 auto;
      }
      .btn {
        width: 100px;
      }
      body {
        overflow-x: hidden;
      }
      .inner_content {
        width: 75%;
        /* margin: 0 auto; */
        /* overflow-y: hidden; */
      }
      label {
        font-size: 18px;
      }
      table {
        font-family: arial, sans-serif;
        border-collapse: collapse;
        /* width: 100%; */
      }

      td,
      th {
        border: 1px solid #dddddd;
        text-align: left;
        padding: 8px;
      }
    </style>
  </head>
  <body style="color: white; background-color: #1d2630">
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
      <div class="container">
        <a class="navbar-brand" href="#">Resume Builder</a>
        <form class="d-flex">
          <button
            type="button"
            class="btn btn-outline-danger"
            onclick="logout()"
          >
            Logout
          </button>
        </form>
      </div>
    </nav>
    <div class="container">
      <form action="">
        <h1 class="text-center">Edit your Resume</h1>
        <div class="inner_content mb-3">
          <div class="row">
            <div class="col-sm-12 mb-3 col-lg-6">
              <label class="form-label">Edit Title :</label>
              <input
                class="form-control"
                type="text"
                id="editName"
                placeholder="Edit your title"
              />
            </div>
            <div class="col-sm-12 mb-3 col-lg-6">
              <label class="form-label">Edit Name :</label>
              <input
                class="form-control"
                type="text"
                id="editNames"
                placeholder="Edit your Name"
              />
            </div>
          </div>
        </div>
        <div class="inner_content mb-3">
          <div class="row">
            <div class="col-sm-12 mb-3 col-lg-6">
              <label class="form-label">Edit Email :</label>
              <input
                class="form-control"
                type="email"
                id="editEmail"
                placeholder="Edit your email"
              />
            </div>
            <div class="col-sm-12 mb-3 col-lg-6">
              <label class="form-label">Edit Age :</label>
              <input
                class="form-control"
                type="number"
                id="editAge"
                placeholder="Edit your age"
              />
            </div>
          </div>
        </div>
        <div class="inner_content mb-3">
          <div class="row">
            <div class="col-sm-12 mb-3 col-lg-6">
              <label class="form-label">Edit Contact :</label>
              <input
                class="form-control"
                type="text"
                id="editContact"
                placeholder="Edit your contact"
              />
            </div>
            <div class="col-sm-12 mb-3 col-lg-6">
              <label class="form-label">Edit Declaration :</label>
              <input
                class="form-control"
                type="text"
                id="editDeclaration"
                placeholder="Edit your declaration"
              />
            </div>
          </div>
        </div>
        <div class="inner_content mb-3">
          <div class="row">
            <div class="col-sm-12 mb-3 col-lg-6">
              <label class="form-label">Edit Father Name :</label>
              <input
                class="form-control"
                type="text"
                id="editFname"
                placeholder="Edit your father name"
              />
            </div>
            <div class="col-sm-12 mb-3 col-lg-6">
              <label class="form-label">Edit Mother Name :</label>
              <input
                class="form-control"
                type="text"
                id="editMname"
                placeholder="Edit your mother name"
              />
            </div>
          </div>
        </div>
        <div class="inner_content mb-3 mt-3">
          <h4>Skills</h4>
          <div class="row">
            <div id="skill"></div>
            <span
              ><button
                type="button"
                class="btn btn-primary"
                onclick="addMore('skill')"
              >
                Add more
              </button></span
            >
          </div>
        </div>
        <div class="inner_content mb-3 mt-3">
          <h4>Language</h4>
          <div class="row">
            <div id="language"></div>
            <span
              ><button
                type="button"
                class="btn btn-primary"
                onclick="addMore('language')"
              >
                Add more
              </button></span
            >
          </div>
        </div>
        <div class="inner_content mb-3 mt-3">
          <h4>Hobbies</h4>
          <div class="row">
            <div id="hobby"></div>
            <span
              ><button
                type="button"
                class="btn btn-primary"
                onclick="addMore('hobby')"
              >
                Add more
              </button></span
            >
          </div>
        </div>
        <div class="inner_content mb-3 mt-3">
          <h4>Education</h4>
          <div class="row">
            <div class="col-sm-12 mb-3 col-lg-6">
              <table class="table table-dark table-hover">
                <thead>
                  <th>Edit Course</th>
                  <th>Edit Institute</th>
                  <th>Edit Percentage</th>
                  <th>Edit Year</th>
                </thead>
                <tbody id="editEducationTable"></tbody>
              </table>
              <span>
                <button
                  type="button"
                  class="btn btn-primary"
                  onclick="addMore('editEducationTable')"
                >
                  Add more
                </button></span
              >
            </div>
          </div>
        </div>
        <div class="inner_content mb-3 mt-3">
          <h4>Experience</h4>
          <div class="row">
            <div class="col-sm-12 mb-3 col-lg-6">
              <table class="table table-dark table-hover">
                <thead>
                  <th>Edit company name</th>
                  <th>Edit role</th>
                  <th>Edit year</th>
                </thead>
                <tbody id="editExperienceTable"></tbody>
              </table>
              <span>
                <button
                  type="button"
                  class="btn btn-primary"
                  onclick="addMore('editExperienceTable')"
                >
                  Add more
                </button></span
              >
            </div>
          </div>
        </div>
        <div class="inner_content mb-3 mt-3">
          <h4>Project</h4>
          <div class="row">
            <div class="col-sm-12 mb-3 col-lg-6">
              <table class="table table-dark table-hover">
                <thead>
                  <th>Edit project title</th>
                  <th>Edit role</th>
                  <th>Edit year</th>
                </thead>
                <tbody id="editProjectTable"></tbody>
              </table>
              <span>
                <button
                  type="button"
                  class="btn btn-primary"
                  onclick="addMore('editProjectTable')"
                >
                  Add more
                </button></span
              >
            </div>
          </div>
        </div>

        <div class="inner_content mb-3 mt-3">
          <button
            onclick="updateFunction()"
            class="btn btn-success"
            type="button"
          >
            Update
          </button>
        </div>
      </form>
    </div>
  </body>

  <script type="module" src="firebase.js"></script>
  <script>
    window.addEventListener("DOMContentLoaded", function() {   
     editView();
}); 
   
  </script>

  <script>
    if (!localStorage.getItem("loginData")) {
      location = "index.html";
    }
    function addMore(id) {
      if (id == "skill") {
        let addSkill = document.getElementById("skill");
        let addNewSkill = document.createElement("input");
        addNewSkill.setAttribute("placeholder", "Enter New Skill");
        addNewSkill.setAttribute(
          "class",
          "inputSkills col-sm-12 mb-3 col-lg-4"
        );
        addNewSkill.setAttribute("type", "text");
        addSkill.appendChild(addNewSkill);
      } else if (id == "language") {
        let addLanguage = document.getElementById("language");
        let addNewLanguage = document.createElement("input");
        addNewLanguage.setAttribute("placeholder", "Enter New Language");
        addNewLanguage.setAttribute(
          "class",
          "inputLanguage col-sm-12 mb-3 col-lg-4"
        );
        addNewLanguage.setAttribute("type", "text");
        addLanguage.appendChild(addNewLanguage);
      } else if (id == "hobby") {
        let addHobby = document.getElementById("hobby");
        let addNewHobby = document.createElement("input");
        addNewHobby.setAttribute("placeholder", "Enter New hobby");
        addNewHobby.setAttribute("class", "inputHobby col-sm-12 mb-3 col-lg-4");
        addNewHobby.setAttribute("type", "text");
        addHobby.appendChild(addNewHobby);
      } else if (id == "editEducationTable") {
        let educationLength = resume.Education.length;
        // let addEducation = document.getElementById('editEducationTable').innerHTML

        let addNewEducation = `<tr>
        <td><input placeholder='Enter course name' onkeyup=updateOperation(this,${educationLength},'course','Education') /> </td>
        <td><input placeholder='Enter Institute name' onkeyup=updateOperation(this,${educationLength},'ins_name','Education') /></td>
        <td><input type='number' placeholder='Enter percentage' onkeyup=updateOperation(this,${educationLength},'percentage','Education') /></td>
        <td><input type='number' placeholder='Enter Year of passed out' onkeyup=updateOperation(this,${educationLength},'year_of_pass','Education') /></td>
                   </tr>`;
        resume.Education[educationLength] = {
          course: "",
          ins_name: "",
          percentage: "",
          year_of_pass: "",
        };

        document
          .getElementById("editEducationTable")
          .insertAdjacentHTML("beforeend", addNewEducation);
      } else if (id == "editExperienceTable") {
        let experienceLength = resume.Experience.length;
        // let addExperience = document.getElementById('editExperienceTable').innerHTML

        let addNewExperience = `<tr>
        <td><input placeholder='Enter course name' onkeyup=updateOperation(this,${experienceLength},'company_name','Experience') /> </td>
        <td><input placeholder='Enter Institute name' onkeyup=updateOperation(this,${experienceLength},'role','Experience') /></td>
        <td><input type='number' placeholder='Enter percentage' onkeyup=updateOperation(this,${experienceLength},'year','Experience') /></td>
                   </tr>`;
        resume.Experience[experienceLength] = {
          company_name: "",
          role: "",
          year: "",
        };

        document
          .getElementById("editExperienceTable")
          .insertAdjacentHTML("beforeend", addNewExperience);
      } else if (id == "editProjectTable") {
        let projectLength = resume.Project.length;
        // let addProject = document.getElementById('editProjectTable').innerHTML

        let addNewProject = `<tr>
        <td><input placeholder='Enter course name' onkeyup=updateOperation(this,${projectLength},'title','Project') /> </td>
        <td><input placeholder='Enter Institute name' onkeyup=updateOperation(this,${projectLength},'role','Project') /></td>
        <td><input type='number' placeholder='Enter percentage' onkeyup=updateOperation(this,${projectLength},'year','Project') /></td>
                   </tr>`;
        resume.Project[projectLength] = {
          company_name: "",
          role: "",
          year: "",
        };

        document
          .getElementById("editProjectTable")
          .insertAdjacentHTML("beforeend", addNewProject);
      }
    }
  </script>
</html>
