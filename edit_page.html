<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edit Page</title>
    <script src="resume.js" type="text/javascript"></script>
    <link rel="stylesheet" href="resume_build.css">
    <style>
        table {
          font-family: arial, sans-serif;
          border-collapse: collapse;
          /* width: 100%; */
        }
        
        td, th {
          border: 1px solid #dddddd;
          text-align: left;
          padding: 8px;
        }
        
        </style>
</head>
<body>
    <h1>Edit your Resume</h1>
    <label >Edit Title :</label><span><input type="text" id="editName" placeholder="Edit your title" style="margin-left: 10px;"></span><br><br>
    <label >Edit Name :</label><span><input type="text" id="editNames" placeholder="Edit your name" style="margin-left: 10px;"></span><br><br>
    <label >Edit Age :</label><span><input type="text" id="editAge" placeholder="Edit your age" style="margin-left: 10px;"></span><br><br>
    <label >Edit Email :</label><span><input type="text" id="editEmail" placeholder="Edit your email" style="margin-left: 10px;"></span><br><br>
    <label >Edit Contact :</label><span><input type="text" id="editContact" placeholder="Edit your contact" style="margin-left: 10px;"></span><br><br>
    <label >Edit Declaration :</label><span><input type="text" id="editDeclaration" placeholder="Edit your declaration" style="margin-left: 10px;"></span><br><br>
    <label >Edit Father Name :</label><span><input type="text" id="editFname" placeholder="Edit your Father Name" style="margin-left: 10px;"></span><br><br>
    <label >Edit Mother Name :</label><span><input type="text" id="editMname" placeholder="Edit your Mother Name" style="margin-left: 10px;"></span><br><br>
    <p>Skill</p>
    <div id="skill">
        
    </div><button type='button' onclick="addMore('skill')">Add more</button><br>
    <p>Language</p>
    <div id="language">
        
    </div><button type='button' onclick="addMore('language')">Add more</button><br>
    <p>Hobbies</p>
    <div id="hobby">

    </div><button type='button' onclick="addMore('hobby')">Add more</button><br>


    <h2>Education</h2>
    <table>
        <thead>
            <th>Edit Course</th>
            <th>Edit Institute</th>
            <th>Edit Percentage</th>
            <th>Edit Year</th>
        </thead>
        <tbody id="editEducationTable">

        </tbody>
    </table>
    <button type="button" onclick="addMore('editEducationTable')">Add more</button>
    <br>
    <h2>Experience</h2>
    <table>
        <thead>
            <th>Edit company name</th>
            <th>Edit role</th>
            <th>Edit year</th>
        </thead>
        <tbody id="editExperienceTable">

        </tbody>
    </table><button type="button" onclick="addMore('editExperienceTable')">Add more</button>
    <br>
    <h2>Project</h2>
    <table>
        <thead>
            <th>Edit project title</th>
            <th>Edit role</th>
            <th>Edit year</th>
        </thead>
        <tbody id="editProjectTable">

        </tbody>
    </table><button type="button" onclick="addMore('editProjectTable')">Add more</button><br><br>
    
    <button onclick="updateFunction()" type="button" >Update</button>
    
</body>

<script type="module" src="firebase.js"></script>
<script type="module">
    editView()
</script>


<script>
    function perview(){
    document.getElementById('coded').innerHTML = JSON.stringify(resume,null,4)
}

        if(!localStorage.getItem('userloginData')){
            location = "index.html"
    }
        function addMore(id){
            if(id == 'skill'){
                let addSkill = document.getElementById('skill')
                let addNewSkill = document.createElement('input');
                addNewSkill.setAttribute('placeholder','Enter New Skill')
                addNewSkill.setAttribute('class','inputSkills')
                addNewSkill.setAttribute('type','text')
                addSkill.appendChild(addNewSkill)
            }
            else if(id == 'language'){
                
                let addLanguage = document.getElementById('language')
                let addNewLanguage = document.createElement('input');
                addNewLanguage.setAttribute('placeholder','Enter New Language')
                addNewLanguage.setAttribute('class','inputLanguage')
                addNewLanguage.setAttribute('type','text')
                addLanguage.appendChild(addNewLanguage)
            
            }
            else if (id == 'hobby'){
                let addHobby = document.getElementById('hobby')
                let addNewHobby = document.createElement('input');
                addNewHobby.setAttribute('placeholder','Enter New hobby')
                addNewHobby.setAttribute('class','inputHobby')
                addNewHobby.setAttribute('type','text')
                addHobby.appendChild(addNewHobby)

            }
            else if(id=='editEducationTable'){
        let educationLength = resume.Education.length;
        // let addEducation = document.getElementById('editEducationTable').innerHTML
        
        let addNewEducation = `<tr>
        <td><input placeholder='Enter course name' onkeyup=updateOperation(this,${educationLength},'course','Education') /> </td>
        <td><input placeholder='Enter Institute name' onkeyup=updateOperation(this,${educationLength},'ins_name','Education') /></td>
        <td><input type='number' placeholder='Enter percentage' onkeyup=updateOperation(this,${educationLength},'percentage','Education') /></td>
        <td><input type='number' placeholder='Enter Year of passed out' onkeyup=updateOperation(this,${educationLength},'year_of_pass','Education') /></td>
                   </tr>`
        resume.Education[educationLength]={
            course:'',
            ins_name:'',
            percentage:'',
            year_of_pass:''
        }

        document.getElementById('editEducationTable').insertAdjacentHTML('beforeend',addNewEducation)


        
    }
    else if(id=='editExperienceTable'){
        let experienceLength = resume.Experience.length;
        // let addExperience = document.getElementById('editExperienceTable').innerHTML
        
        let addNewExperience = `<tr>
        <td><input placeholder='Enter course name' onkeyup=updateOperation(this,${experienceLength},'company_name','Experience') /> </td>
        <td><input placeholder='Enter Institute name' onkeyup=updateOperation(this,${experienceLength},'role','Experience') /></td>
        <td><input type='number' placeholder='Enter percentage' onkeyup=updateOperation(this,${experienceLength},'year','Experience') /></td>
                   </tr>`
        resume.Experience[experienceLength]={
            company_name:'',
            role:'',
            year:''
        }

        document.getElementById('editExperienceTable').insertAdjacentHTML('beforeend',addNewExperience)}

        else if(id=='editProjectTable'){
        let projectLength = resume.Project.length;
        // let addProject = document.getElementById('editProjectTable').innerHTML
        
        let addNewProject = `<tr>
        <td><input placeholder='Enter course name' onkeyup=updateOperation(this,${projectLength},'title','Project') /> </td>
        <td><input placeholder='Enter Institute name' onkeyup=updateOperation(this,${projectLength},'role','Project') /></td>
        <td><input type='number' placeholder='Enter percentage' onkeyup=updateOperation(this,${projectLength},'year','Project') /></td>
                   </tr>`
        resume.Project[projectLength]={
            company_name:'',
            role:'',
            year:''
        }

        document.getElementById('editProjectTable').insertAdjacentHTML('beforeend',addNewProject)}
    }
    
       
</script>


</html>